Environment: development
Connection string: data source=(local)\sqlexpress;initial catalog=dev;integrated security=true;
create table [SchemaInfo] (
[Version] bigint not null,
);
create table [Author] (
[ID] int not null identity primary key,
[FirstName] nvarchar(200) not null,
[LastName] nvarchar(200) not null,
[EmailAddress] nvarchar(200) not null,
[Login] nvarchar(200) not null,
[Password] varbinary(64) null,
);
create table [Tag] (
[ID] int not null identity primary key,
[Name] nvarchar(200) not null,
);
create table [Blog] (
[ID] int not null identity primary key,
[Name] nvarchar(200) not null,
[Description] nvarchar(max) not null,
);
create table [BlogPost] (
[ID] int not null identity primary key,
[Title] nvarchar(200) not null,
[Slug] nvarchar(200) not null,
[BlogID] int ,
[AuthorID] int ,
);
create table [BlogPostTagJunction] (
[BlogPostID] int ,
[TagID] int ,
);
create unique nonclustered index [UQ_Version] on [SchemaInfo] ([Version]);
create unique nonclustered index [UQ_EmailAddress] on [Author] ([EmailAddress]);
create unique nonclustered index [UQ_Login] on [Author] ([Login]);
create unique nonclustered index [UQ_LoginEmailAddress] on [Author] ([Login] asc, [EmailAddress]);
alter table [BlogPost] add constraint [FK_BlogPost_Blog] foreign key ([BlogID]) references [Blog] ([ID]);
alter table [BlogPost] add constraint [FK_BlogPost_Author] foreign key ([AuthorID]) references [Author] ([ID]);
alter table [BlogPostTagJunction] add constraint [FK_BlogPostTagJunction_BlogPost] foreign key ([BlogPostID]) references [BlogPost] ([ID]);
alter table [BlogPostTagJunction] add constraint [FK_BlogPostTagJunction_Tag] foreign key ([TagID]) references [Tag] ([ID]);

Migrated to version 20090226100407
create table [BlogPostComment] (
[ID] int not null identity primary key,
[BlogPostID] int ,
[AuthorEmailAddress] nvarchar(200) not null,
[Content] nvarchar(max) not null,
);
alter table [BlogPostComment] add constraint [FK_BlogPostComment_BlogPost] foreign key ([BlogPostID]) references [BlogPost] ([ID]);

Migrated to version 20090226100408
